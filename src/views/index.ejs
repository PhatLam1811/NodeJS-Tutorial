<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/index.css" />
    <title>NodeJs Tutorial</title>
</head>

<body>
    <ul>
        <li><a class="active" href="\">Home</a></li>
        <li><a href="\about">About</a></li>
    </ul>

    <div class="banner">
        <img src="/images/banners/banner1.jpg" alt="image" />
    </div>

    <div class="content">
        <h1>USERS LIST</h1>

        <table>
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Actions</th>
            </tr>
            <% for (let i=0; i < usersData.length; i++) { %>
                <tr>
                    <td>
                        <%=usersData[i]._id %>
                    </td>
                    <td>
                        <%=usersData[i].firstName %>
                    </td>
                    <td>
                        <%=usersData[i].lastName %>
                    </td>
                    <td>
                        <div class="user-actions">
                            <a href="/details/user/<%=usersData[i]._id %>">Details</a>
                            <form action="/edit/user/<%=usersData[i]._id %>" method="get">
                                <button type="submit">Edit</button>
                            </form>
                            <form action="/delete-user" method="post">
                                <input type="text" name="userId" hidden="true" value="<%=usersData[i]._id %>" />
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </td>
                </tr>
                <% } %>
        </table>

        <form action="/create-user" method="POST">
            <h1 style="margin: 7rem auto 3rem auto; width: fit-content;">Create New User</h1>

            <label for="firstName"><b>First Name</b></label><br>
            <input type="text" id="firstName" name="firstName" /><br>

            <label for="lastName"><b>Last Name</b></label><br>
            <input type="text" id="lastName" name="lastName" /><br>

            <label for="email"><b>Email</b></label><br>
            <input type="text" id="email" name="email" /><br>

            <label for="address"><b>Address</b></label><br>
            <input type="text" id="address" name="address" /><br>

            <button type="submit">Create</button>
        </form>
    </div>
</body>

</html>